{% extends 'base.html' %}
{% load static %}

{% block content %}

{% if request.LANGUAGE_CODE == 'ar' %}
<link rel="stylesheet" href="{% static 'css/bootstrap.rtl.min.css' %}">
<style> body { direction: rtl; text-align: right; } </style>
{% else %}
<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
{% endif %}

<div class="container py-4">

    <h2 class="mb-3">
        {% if request.LANGUAGE_CODE == 'ar' %}
            Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ {{ request.user.username }} ðŸ‘‹
        {% else %}
            Welcome, {{ request.user.username }} ðŸ‘‹
        {% endif %}
    </h2>

    <p class="text-muted">
        {% if request.LANGUAGE_CODE == 'ar' %}
            Ù‡Ø°Ù‡ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
        {% else %}
            This is your student dashboard.
        {% endif %}
    </p>

    <hr>

    <h4 class="mt-4">
        {% if request.LANGUAGE_CODE == 'ar' %}
            Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„ØªÙŠ Ø£Ù†Øª Ù…Ø´ØªØ±Ùƒ Ø¨Ù‡Ø§
        {% else %}
            Your Enrolled Courses
        {% endif %}
    </h4>

    {% if enrollments %}
        <div class="row mt-3">
            {% for enroll in enrollments %}
                <div class="col-md-4">
                    <div class="card mb-3 shadow-sm" style="border-radius: 10px;">

                        {% if enroll.course.image %}
                        <img src="{{ enroll.course.image.url }}" class="w-100" style="height:160px;object-fit:cover;border-radius:10px 10px 0 0;">
                        {% endif %}

                        <div class="card-body">
                            <h5 class="card-title">{{ enroll.course.title }}</h5>

                            <p class="text-muted" style="font-size: 14px;">
                                {{ enroll.course.description|truncatewords:20 }}
                            </p>

                            <a href="{% url 'learn_course' enroll.course.id %}" class="btn btn-primary w-100">
                                {% if request.LANGUAGE_CODE == 'ar' %}
                                    Ø£ÙƒÙ…Ù„ Ø§Ù„ÙƒÙˆØ±Ø³
                                {% else %}
                                    Continue Course
                                {% endif %}
                            </a>

                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

    {% else %}
        <div class="alert alert-info mt-3">
            {% if request.LANGUAGE_CODE == 'ar' %}
                Ù„Ù… ØªØ´ØªØ±Ùƒ Ø¨Ø£ÙŠ ÙƒÙˆØ±Ø³ Ø¨Ø¹Ø¯ ðŸŽ“
            {% else %}
                You are not enrolled in any courses yet ðŸŽ“
            {% endif %}
        </div>
    {% endif %}

</div>
{% endblock %}
